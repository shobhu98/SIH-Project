{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/cosentus/Documents/GitHub/SIH-Project/ReactNativeFrontend/pages/Login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { Container, Header, Title, StyleProvider, Content, Form, Item, Input, Label } from 'native-base';\nimport getTheme from \"../native-base-theme/components\";\nimport material from \"../native-base-theme/variables/variables\";\nimport { Button } from 'react-native-paper';\nimport { DefaultTheme, Provider as PaperProvider, Divider } from 'react-native-paper';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport NamasteMale from \"./animation_components/male/NamasteMale\";\nimport NamasteFemale from \"./animation_components/female/NamasteFemale\";\nimport { StackActions, NavigationActions } from 'react-navigation';\nimport { useStoreState } from 'easy-peasy';\nimport lan from \"./global.js\";\nimport AsyncStorage from '@react-native-community/async-storage';\n\nvar theme = _objectSpread(_objectSpread({}, DefaultTheme), {}, {\n  roundness: 2,\n  colors: _objectSpread(_objectSpread({}, DefaultTheme.colors), {}, {\n    primary: '#16335C',\n    accent: '#f1c40f'\n  })\n});\n\nvar styles = StyleSheet.create({\n  form: {\n    paddingTop: 20\n  },\n  button: {\n    marginRight: 40,\n    marginLeft: 40,\n    marginBottom: 10,\n    marginTop: 10\n  },\n  getHelp: {\n    marginRight: 20,\n    marginLeft: 20,\n    marginTop: 10,\n    borderWidth: 2\n  },\n  divider: {\n    margin: 30,\n    height: 3\n  },\n  errortext: {\n    fontSize: 13,\n    marginLeft: 2,\n    marginTop: 2,\n    color: \"#de5454\"\n  },\n  view: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginBottom: 50\n  },\n  text: {\n    color: \"#16335C\",\n    textDecorationLine: 'underline'\n  },\n  input: {\n    marginBottom: 10\n  },\n  blueview: {\n    height: 250,\n    backgroundColor: \"#16335C\",\n    zIndex: -1,\n    justifyContent: 'flex-end'\n  },\n  label: {\n    color: \"white\",\n    fontSize: 24\n  }\n});\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n    var navigation = _this.props.navigation;\n    _this.login = _this.login.bind(_assertThisInitialized(_this));\n    var Lan = {\n      PhoneNumber: {\n        en: \"Phone Number\",\n        hi: \"फ़ोन नंबर\"\n      },\n      Password: {\n        en: \"Password\",\n        hi: \"कुंजिका\"\n      },\n      LogIn: {\n        en: \"Login\",\n        hi: \"लॉग इन करें\"\n      },\n      AppName: {\n        en: \"Virtual Police Station\",\n        hi: \"वर्चुअल पुलिस स्टेशन\"\n      },\n      HaventRegistered: {\n        en: \"Haven't Registered yet? \",\n        hi: \"अभी तक पंजीकृत नहीं है? \"\n      },\n      RegisterNow: {\n        en: \"Register Now!\",\n        hi: \" पंजीकरण करें!\"\n      },\n      GetHelp: {\n        en: \"Get Help\",\n        hi: \"मदद लें\"\n      }\n    };\n    _this.state = {\n      titles: Lan,\n      phone: \"\",\n      password: \"\",\n      err: false,\n      otpErr: false,\n      lan: ''\n    };\n    AsyncStorage.getItem(\"@lang\").then(function (value) {\n      return _this.setState({\n        lan: value\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"login\",\n    value: function login() {\n      var _this2 = this;\n\n      console.log(this.state.phone);\n      console.log(this.state.password);\n      fetch('http://192.168.1.10:7000/api/auth', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          number: this.state.phone,\n          password: this.state.password\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseData) {\n        console.log(responseData.token);\n\n        try {\n          AsyncStorage.setItem('@auth', responseData.token);\n          console.log(\"daal diya\");\n        } catch (e) {\n          console.log(e);\n        }\n\n        var resetAction = StackActions.reset({\n          index: 0,\n          actions: [NavigationActions.navigate({\n            routeName: 'MainPage',\n            lang: _this2.state.lan\n          })]\n        });\n\n        _this2.props.navigation.dispatch(resetAction);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(StyleProvider, {\n        style: getTheme(material),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }\n      }, React.createElement(Container, {\n        style: {\n          backgroundColor: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          position: 'absolute'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }\n      }), React.createElement(View, {\n        style: styles.blueview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          alignItems: 'center',\n          marginBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 25\n        }\n      }, React.createElement(Label, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }\n      }, this.state.titles.AppName[this.state.lan]))), React.createElement(PaperProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }\n      }, React.createElement(Content, {\n        padder: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }\n      }, React.createElement(Form, {\n        style: styles.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 29\n        }\n      }, React.createElement(Item, {\n        regular: true,\n        style: styles.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 33\n        }\n      }, React.createElement(Input, {\n        keyboardType: 'numeric',\n        placeholder: this.state.titles.PhoneNumber[this.state.lan],\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            phone: text\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 37\n        }\n      })), React.createElement(Item, {\n        regular: true,\n        style: styles.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 33\n        }\n      }, React.createElement(Input, {\n        secureTextEntry: true,\n        placeholder: this.state.titles.Password[this.state.lan],\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            password: text\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 37\n        }\n      })), React.createElement(Button, {\n        mode: \"contained\",\n        onPress: this.login,\n        style: styles.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 33\n        }\n      }, this.state.titles.LogIn[this.state.lan]), React.createElement(Divider, {\n        style: styles.divider,\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 33\n        }\n      }), React.createElement(View, {\n        style: styles.view,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 37\n        }\n      }, this.state.titles.HaventRegistered[this.state.lan]), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate('Register');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 37\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 41\n        }\n      }, this.state.titles.RegisterNow[this.state.lan]))), React.createElement(Button, {\n        mode: \"outlined\",\n        onPress: function onPress() {\n          return console.log('Pressed');\n        },\n        style: styles.getHelp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 33\n        }\n      }, this.state.titles.GetHelp[this.state.lan]))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/Users/cosentus/Documents/GitHub/SIH-Project/ReactNativeFrontend/pages/Login.js"],"names":["React","useState","Container","Header","Title","StyleProvider","Content","Form","Item","Input","Label","getTheme","material","Button","DefaultTheme","Provider","PaperProvider","Divider","NamasteMale","NamasteFemale","StackActions","NavigationActions","useStoreState","lan","AsyncStorage","theme","roundness","colors","primary","accent","styles","StyleSheet","create","form","paddingTop","button","marginRight","marginLeft","marginBottom","marginTop","getHelp","borderWidth","divider","margin","height","errortext","fontSize","color","view","flexDirection","justifyContent","text","textDecorationLine","input","blueview","backgroundColor","zIndex","label","Login","props","navigation","login","bind","Lan","PhoneNumber","en","hi","Password","LogIn","AppName","HaventRegistered","RegisterNow","GetHelp","state","titles","phone","password","err","otpErr","getItem","then","value","setState","console","log","fetch","method","headers","body","JSON","stringify","number","response","json","responseData","token","setItem","e","resetAction","reset","index","actions","navigate","routeName","lang","dispatch","catch","error","position","alignItems","Component"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { Container, Header,  Title, StyleProvider, Content, Form, Item, Input, Label } from 'native-base';\nimport getTheme from '../native-base-theme/components';\nimport material from '../native-base-theme/variables/variables';\nimport { Button } from 'react-native-paper';\nimport { DefaultTheme, Provider as PaperProvider, Divider } from 'react-native-paper';\nimport {StyleSheet, Text, TouchableOpacity, View} from 'react-native';\nimport {Dimensions } from \"react-native\";\nimport NamasteMale from \"./animation_components/male/NamasteMale\";\nimport NamasteFemale from \"./animation_components/female/NamasteFemale\";\nimport { StackActions, NavigationActions } from 'react-navigation';\nimport { useStoreState } from 'easy-peasy';\nimport lan from './global.js'\n// import Lan from './global.js';\nimport AsyncStorage from '@react-native-community/async-storage';\n\nconst theme = {\n    ...DefaultTheme,\n    roundness: 2,\n    colors: {\n        ...DefaultTheme.colors,\n        primary: '#16335C',\n        accent: '#f1c40f',\n    }\n};\n\nconst styles = StyleSheet.create({\n    form: {\n        paddingTop:20,\n    },\n    button: {\n        marginRight:40,\n        marginLeft:40, \n        marginBottom:10, \n        marginTop:10,\n        \n    },\n    getHelp: {\n        marginRight:20,\n        marginLeft:20, \n        marginTop:10,\n        borderWidth: 2,\n    },\n    divider:{\n        margin:30, \n        height:3\n    },\n    errortext:{\n        fontSize:13,\n        marginLeft:2,\n        marginTop:2,\n        color:\"#de5454\"\n    },\n    view:{\n        flexDirection: 'row',\n        justifyContent: 'center',\n        marginBottom:50\n    },\n    text:{\n        color:\"#16335C\",\n        textDecorationLine: 'underline',\n    },\n    input:{\n        marginBottom:10\n    },\n    blueview:{\n        height:250,\n        backgroundColor:\"#16335C\",\n        zIndex:-1,\n        justifyContent:'flex-end',\n        \n    },\n    label:{\n        color:\"white\",\n        fontSize:24\n    }\n});\n\n\n// export default function ProductsInBasket() {\n//   const count = useStoreState(state => state.basket.productIds.length);\n//   console.log(count);\n//   return(<Login />); \n// }\n\n\nexport default class Login extends React.Component {\n    constructor(props){\n        super(props);\n        const { navigation } = this.props;\n        this.login=this.login.bind(this);\n        const Lan = {\n            PhoneNumber: {\n                en: \"Phone Number\",\n                hi: \"फ़ोन नंबर\"\n            },\n            Password: {\n                en: \"Password\",\n                hi: \"कुंजिका\"\n            },\n            LogIn: {\n                en: \"Login\",\n                hi: \"लॉग इन करें\"\n            },\n            AppName: {\n                en: \"Virtual Police Station\",\n                hi: \"वर्चुअल पुलिस स्टेशन\"\n            },\n            HaventRegistered:{\n                en:\"Haven't Registered yet? \",\n                hi: \"अभी तक पंजीकृत नहीं है? \"\n            },\n            RegisterNow:{\n                en: \"Register Now!\",\n                hi: \" पंजीकरण करें!\"\n            },\n            GetHelp:{\n                en: \"Get Help\",\n                hi: \"मदद लें\"\n            }\n        };\n        this.state={\n            titles: Lan,\n            phone:\"\",\n            password:\"\",\n            err:false,\n            otpErr:false,\n            lan:''\n        }\n        // try {\n        //         AsyncStorage.getItem('@lan', (err, itemm) => console.log(\"blah blah \"+JSON.parse(itemm)));\n        //     } catch(e) {\n        //     console.log(e);\n        //     }\n        AsyncStorage.getItem(\"@lang\").then((value)=>this.setState({lan:value}));\n        //console.log(this.state.lan);\n    }\n\n    \n\n    login(){\n        //check login here\n        //this.props.navigation.navigate('MainPage',{lang:this.state.lan} )\n        console.log(this.state.phone);\n        console.log(this.state.password);\n        fetch('http://192.168.1.10:7000/api/auth', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                number:this.state.phone, \n                password:this.state.password\n            })\n        }).then((response) => response.json())\n        .then((responseData) => {\n            console.log(responseData.token);\n            try {\n                AsyncStorage.setItem('@auth', responseData.token);\n                console.log(\"daal diya\");\n            } catch (e) {\n                console.log(e);\n            }\n            // try {\n            //     AsyncStorage.getItem('@auth', (err, item) => console.log(item));\n            // } catch(e) {\n            // console.log(e);\n            // }\n            const resetAction = StackActions.reset({\n                index: 0,\n                actions: [NavigationActions.navigate({ routeName: 'MainPage',lang:this.state.lan } )],\n            });\n            this.props.navigation.dispatch(resetAction);\n            \n        }).catch (function (error){\n            console.log(error);\n        })\n\n    }\n\n    render(){\n        return(\n            <StyleProvider style={getTheme(material)}>\n                <Container style={{backgroundColor:\"white\"}}>\n                    {/* <Header >\n                        <Title>Virtual Police Station</Title>\n                    </Header> */}\n                    <View style={{flexDirection:'row', position:'absolute'}}>\n                        {/* <NamasteMale/>\n                        <NamasteFemale style={{left:250}}/> */}\n                    </View>\n                    <View style={styles.blueview}>\n                        <View style={{alignItems:'center', marginBottom:10}}>\n                            <Label style={styles.label}>{this.state.titles.AppName[this.state.lan]}</Label>\n                        </View>\n                    </View>\n                    <PaperProvider theme={theme}>\n                        <Content padder>\n                            <Form style={styles.form}>\n                                {/* <Label>{this.props.lang}</Label> */}\n                                <Item regular style={styles.input}>\n                                    <Input keyboardType={'numeric'}  placeholder={this.state.titles.PhoneNumber[this.state.lan]} onChangeText={text => this.setState({phone:text})}/>\n                                </Item>\n                                {/* {this.state.phoneErr && <Label style={styles.errortext}>Please enter correct phone number of 10 digits</Label>}\n                                <Button mode=\"contained\" onPress={this.sendOTP} style={styles.button}>\n                                    Send OTP\n                                </Button> */}\n                                \n                                <Item regular style={styles.input}>\n                                    <Input secureTextEntry={true} placeholder={this.state.titles.Password[this.state.lan]}  onChangeText={text => this.setState({password:text})}/>\n                                </Item>\n                                <Button mode=\"contained\" onPress={this.login} style={styles.button}>\n                                    {this.state.titles.LogIn[this.state.lan]}\n                                </Button>\n                                {/* <Button mode=\"contained\" onPress={() => this.props.navigation.navigate('PickImage')} style={styles.button}>\n                                    Camera\n                                </Button> */}\n                                <Divider style={styles.divider} theme={theme}/>\n                                <View style={styles.view}>\n                                    <Text>{this.state.titles.HaventRegistered[this.state.lan]}</Text>\n                                    <TouchableOpacity onPress={() => this.props.navigation.navigate('Register')}>\n                                    {/* <TouchableOpacity> */}\n                                        <Text style={styles.text}>{this.state.titles.RegisterNow[this.state.lan]}</Text>\n                                    </TouchableOpacity>\n                                </View>\n                                <Button mode=\"outlined\" onPress={() => console.log('Pressed')} style={styles.getHelp}>\n                                    {this.state.titles.GetHelp[this.state.lan]}\n                                </Button>\n                            </Form>\n                        </Content>\n                        \n                    </PaperProvider>\n                </Container>\n            </StyleProvider>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}