{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/cosentus/Documents/GitHub/SIH-Project/ReactNativeFrontend/node_modules/react-native-gifted-chat/lib/Message.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Avatar from \"./Avatar\";\nimport Bubble from \"./Bubble\";\nimport SystemMessage from \"./SystemMessage\";\nimport Day from \"./Day\";\nimport { StylePropType, isSameUser } from \"./utils\";\nvar styles = {\n  left: StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      justifyContent: 'flex-start',\n      marginLeft: 8,\n      marginRight: 0\n    }\n  }),\n  right: StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      justifyContent: 'flex-end',\n      marginLeft: 0,\n      marginRight: 8\n    }\n  })\n};\n\nvar Message = function (_React$Component) {\n  _inherits(Message, _React$Component);\n\n  var _super = _createSuper(Message);\n\n  function Message() {\n    _classCallCheck(this, Message);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Message, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var next = nextProps.currentMessage;\n      var current = this.props.currentMessage;\n      var _this$props = this.props,\n          previousMessage = _this$props.previousMessage,\n          nextMessage = _this$props.nextMessage;\n      var nextPropsMessage = nextProps.nextMessage;\n      var nextPropsPreviousMessage = nextProps.previousMessage;\n      var shouldUpdate = this.props.shouldUpdateMessage && this.props.shouldUpdateMessage(this.props, nextProps) || false;\n      return next.sent !== current.sent || next.received !== current.received || next.pending !== current.pending || next.createdAt !== current.createdAt || next.text !== current.text || next.image !== current.image || next.video !== current.video || next.audio !== current.audio || previousMessage !== nextPropsPreviousMessage || nextMessage !== nextPropsMessage || shouldUpdate;\n    }\n  }, {\n    key: \"renderDay\",\n    value: function renderDay() {\n      if (this.props.currentMessage && this.props.currentMessage.createdAt) {\n        var _this$props2 = this.props,\n            containerStyle = _this$props2.containerStyle,\n            props = _objectWithoutProperties(_this$props2, [\"containerStyle\"]);\n\n        if (this.props.renderDay) {\n          return this.props.renderDay(props);\n        }\n\n        return React.createElement(Day, _extends({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 20\n          }\n        }));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderBubble\",\n    value: function renderBubble() {\n      var _this$props3 = this.props,\n          containerStyle = _this$props3.containerStyle,\n          props = _objectWithoutProperties(_this$props3, [\"containerStyle\"]);\n\n      if (this.props.renderBubble) {\n        return this.props.renderBubble(props);\n      }\n\n      return React.createElement(Bubble, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 16\n        }\n      }));\n    }\n  }, {\n    key: \"renderSystemMessage\",\n    value: function renderSystemMessage() {\n      var _this$props4 = this.props,\n          containerStyle = _this$props4.containerStyle,\n          props = _objectWithoutProperties(_this$props4, [\"containerStyle\"]);\n\n      if (this.props.renderSystemMessage) {\n        return this.props.renderSystemMessage(props);\n      }\n\n      return React.createElement(SystemMessage, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 16\n        }\n      }));\n    }\n  }, {\n    key: \"renderAvatar\",\n    value: function renderAvatar() {\n      var _this$props5 = this.props,\n          user = _this$props5.user,\n          currentMessage = _this$props5.currentMessage,\n          showUserAvatar = _this$props5.showUserAvatar;\n\n      if (user && user._id && currentMessage && currentMessage.user && user._id === currentMessage.user._id && !showUserAvatar) {\n        return null;\n      }\n\n      if (currentMessage && currentMessage.user && currentMessage.user.avatar === null) {\n        return null;\n      }\n\n      var _this$props6 = this.props,\n          containerStyle = _this$props6.containerStyle,\n          props = _objectWithoutProperties(_this$props6, [\"containerStyle\"]);\n\n      return React.createElement(Avatar, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 16\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props7 = this.props,\n          currentMessage = _this$props7.currentMessage,\n          nextMessage = _this$props7.nextMessage,\n          position = _this$props7.position,\n          containerStyle = _this$props7.containerStyle;\n\n      if (currentMessage) {\n        var sameUser = isSameUser(currentMessage, nextMessage);\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }\n        }, this.renderDay(), currentMessage.system ? this.renderSystemMessage() : React.createElement(View, {\n          style: [styles[position].container, {\n            marginBottom: sameUser ? 2 : 10\n          }, !this.props.inverted && {\n            marginBottom: 2\n          }, containerStyle && containerStyle[position]],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 68\n          }\n        }, this.props.position === 'left' ? this.renderAvatar() : null, this.renderBubble(), this.props.position === 'right' ? this.renderAvatar() : null));\n      }\n\n      return null;\n    }\n  }]);\n\n  return Message;\n}(React.Component);\n\nexport { Message as default };\nMessage.defaultProps = {\n  renderAvatar: undefined,\n  renderBubble: null,\n  renderDay: null,\n  renderSystemMessage: null,\n  position: 'left',\n  currentMessage: {},\n  nextMessage: {},\n  previousMessage: {},\n  user: {},\n  containerStyle: {},\n  showUserAvatar: false,\n  inverted: true,\n  shouldUpdateMessage: undefined\n};\nMessage.propTypes = {\n  renderAvatar: PropTypes.func,\n  showUserAvatar: PropTypes.bool,\n  renderBubble: PropTypes.func,\n  renderDay: PropTypes.func,\n  renderSystemMessage: PropTypes.func,\n  position: PropTypes.oneOf(['left', 'right']),\n  currentMessage: PropTypes.object,\n  nextMessage: PropTypes.object,\n  previousMessage: PropTypes.object,\n  user: PropTypes.object,\n  inverted: PropTypes.bool,\n  containerStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType\n  }),\n  shouldUpdateMessage: PropTypes.func\n};","map":{"version":3,"sources":["../src/Message.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport Avatar from './Avatar';\nimport Bubble from './Bubble';\nimport SystemMessage from './SystemMessage';\nimport Day from './Day';\nimport { StylePropType, isSameUser } from './utils';\nconst styles = {\n    left: StyleSheet.create({\n        container: {\n            flexDirection: 'row',\n            alignItems: 'flex-end',\n            justifyContent: 'flex-start',\n            marginLeft: 8,\n            marginRight: 0,\n        },\n    }),\n    right: StyleSheet.create({\n        container: {\n            flexDirection: 'row',\n            alignItems: 'flex-end',\n            justifyContent: 'flex-end',\n            marginLeft: 0,\n            marginRight: 8,\n        },\n    }),\n};\nexport default class Message extends React.Component {\n    shouldComponentUpdate(nextProps) {\n        const next = nextProps.currentMessage;\n        const current = this.props.currentMessage;\n        const { previousMessage, nextMessage } = this.props;\n        const nextPropsMessage = nextProps.nextMessage;\n        const nextPropsPreviousMessage = nextProps.previousMessage;\n        const shouldUpdate = (this.props.shouldUpdateMessage &&\n            this.props.shouldUpdateMessage(this.props, nextProps)) ||\n            false;\n        return (next.sent !== current.sent ||\n            next.received !== current.received ||\n            next.pending !== current.pending ||\n            next.createdAt !== current.createdAt ||\n            next.text !== current.text ||\n            next.image !== current.image ||\n            next.video !== current.video ||\n            next.audio !== current.audio ||\n            previousMessage !== nextPropsPreviousMessage ||\n            nextMessage !== nextPropsMessage ||\n            shouldUpdate);\n    }\n    renderDay() {\n        if (this.props.currentMessage && this.props.currentMessage.createdAt) {\n            const { containerStyle, ...props } = this.props;\n            if (this.props.renderDay) {\n                return this.props.renderDay(props);\n            }\n            return <Day {...props}/>;\n        }\n        return null;\n    }\n    renderBubble() {\n        const { containerStyle, ...props } = this.props;\n        if (this.props.renderBubble) {\n            return this.props.renderBubble(props);\n        }\n        // @ts-ignore\n        return <Bubble {...props}/>;\n    }\n    renderSystemMessage() {\n        const { containerStyle, ...props } = this.props;\n        if (this.props.renderSystemMessage) {\n            return this.props.renderSystemMessage(props);\n        }\n        return <SystemMessage {...props}/>;\n    }\n    renderAvatar() {\n        const { user, currentMessage, showUserAvatar } = this.props;\n        if (user &&\n            user._id &&\n            currentMessage &&\n            currentMessage.user &&\n            user._id === currentMessage.user._id &&\n            !showUserAvatar) {\n            return null;\n        }\n        if (currentMessage &&\n            currentMessage.user &&\n            currentMessage.user.avatar === null) {\n            return null;\n        }\n        const { containerStyle, ...props } = this.props;\n        return <Avatar {...props}/>;\n    }\n    render() {\n        const { currentMessage, nextMessage, position, containerStyle } = this.props;\n        if (currentMessage) {\n            const sameUser = isSameUser(currentMessage, nextMessage);\n            return (<View>\n          {this.renderDay()}\n          {currentMessage.system ? (this.renderSystemMessage()) : (<View style={[\n                styles[position].container,\n                { marginBottom: sameUser ? 2 : 10 },\n                !this.props.inverted && { marginBottom: 2 },\n                containerStyle && containerStyle[position],\n            ]}>\n              {this.props.position === 'left' ? this.renderAvatar() : null}\n              {this.renderBubble()}\n              {this.props.position === 'right' ? this.renderAvatar() : null}\n            </View>)}\n        </View>);\n        }\n        return null;\n    }\n}\nMessage.defaultProps = {\n    renderAvatar: undefined,\n    renderBubble: null,\n    renderDay: null,\n    renderSystemMessage: null,\n    position: 'left',\n    currentMessage: {},\n    nextMessage: {},\n    previousMessage: {},\n    user: {},\n    containerStyle: {},\n    showUserAvatar: false,\n    inverted: true,\n    shouldUpdateMessage: undefined,\n};\nMessage.propTypes = {\n    renderAvatar: PropTypes.func,\n    showUserAvatar: PropTypes.bool,\n    renderBubble: PropTypes.func,\n    renderDay: PropTypes.func,\n    renderSystemMessage: PropTypes.func,\n    position: PropTypes.oneOf(['left', 'right']),\n    currentMessage: PropTypes.object,\n    nextMessage: PropTypes.object,\n    previousMessage: PropTypes.object,\n    user: PropTypes.object,\n    inverted: PropTypes.bool,\n    containerStyle: PropTypes.shape({\n        left: StylePropType,\n        right: StylePropType,\n    }),\n    shouldUpdateMessage: PropTypes.func,\n};\n//# sourceMappingURL=Message.js.map"]},"metadata":{},"sourceType":"module"}